@for(person of persons; track person.id; let i=$index) {
<div class="story-container" [class.active]="i === currentPersonIndex" (swipeleft)="nextPersonStory()" (swiperight)="prevPersonStory()">
  {{person.name}}
  @for(story of person.stories; track story.id; let z = $index ) {
    <div [class.active]="z === currentStoryIndex" class="story-content">
      <!-- @if(story.type === 'image') { -->
        <img [src]="story.content" >
      <!-- } -->
    </div>
  }
  
  <div class="progress-bar-container">
    @for(story of person.stories; track story.id; let x = $index ) {
      <div  class="progress-bar " [style.width]="progressWidth/3 + '%'" [class.active]="x===currentStoryIndex"></div>
    <!-- <progress class="progress-bar" [value]="progressWidth/3" max="100" [class.active]="x===currentStoryIndex"></progress> -->
    }
  </div>
  @if(!(currentPersonIndex === 0 && currentStoryIndex === 0) ) {
    <button class="prev" (click)="prevStory()">Previous</button>
  }
<button class="next" style="right: 1%;" (click)="nextStory()">Next</button>
</div>
}

<div style="margin-top: 50px;">
  currentPersonIndex : {{progressWidth/3}}

</div>